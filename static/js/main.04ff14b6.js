(()=>{"use strict";var e={5117(e,t,r){r.r(t),r.d(t,{default:()=>ye});var n=r(6665),o=r(8623),i=r(6520),l=r(8833),a=r(296),d=r(1243),c={primary:"#F4A261",primaryDark:"#E08B4A",background:"#FDF6EC",surface:"#FFFFFF",text:"#2A2A2A",textSecondary:"#666666",textMuted:"#999999",border:"#E8E8E8",error:"#FF6B6B",favorite:"#FF6B6B",shadow:"#000000",headerText:"#FFFFFF"},s={primary:"#F4A261",primaryDark:"#E08B4A",background:"#1A1A1A",surface:"#2D2D2D",text:"#F5F5F5",textSecondary:"#B0B0B0",textMuted:"#808080",border:"#404040",error:"#FF6B6B",favorite:"#FF6B6B",shadow:"#000000",headerText:"#FFFFFF"},u=r(467),f=r(1087),h="@theme_mode",g=function(){var e=(0,u.default)(function*(){try{return"dark"===(yield f.default.getItem(h))?"dark":"light"}catch(e){return console.error("Error reading theme:",e),"light"}});return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,u.default)(function*(e){try{return yield f.default.setItem(h,e),!0}catch(t){return console.error("Error saving theme:",t),!1}});return function(t){return e.apply(this,arguments)}}(),y=r(397),x=(0,n.createContext)({isDark:!1,colors:c,setDark:function(){},toggleTheme:function(){}});function m(){var e=n.useContext(x);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e}function b(e){var t=e.children,r="dark"===(0,d.default)(),o=(0,n.useState)(r),i=(0,a.default)(o,2),l=i[0],u=i[1],f=(0,n.useState)(!1),h=(0,a.default)(f,2),m=h[0],b=h[1],v=l?s:c;(0,n.useEffect)(function(){g().then(function(e){u("dark"===e),b(!0)})},[]);var j=(0,n.useCallback)(function(e){var t=!!e;u(t),p(t?"dark":"light")},[]),F=(0,n.useCallback)(function(){u(function(e){var t=!e;return p(t?"dark":"light"),t})},[]);return(0,y.jsx)(x.Provider,{value:{isDark:l,colors:v,setDark:j,toggleTheme:F,loaded:m},children:t})}var v=r(2543),j=r(5458),F=r(3929),w=r(6283),C=r(932),S=r(6773),k=r(3668),B=r(5648),O=r(1690),T=r(8179),P=r(3004),z=k.default.create({wrap:{justifyContent:"center",alignItems:"center"},heart:{fontWeight:"bold"}});const A=function(e){var t=e.isFavorite,r=e.onPress,n=e.size,o=void 0===n?28:n,i=m().colors,l=t?"\u2665":"\u2661";return(0,y.jsx)(B.default,{onPress:r,style:[z.wrap,{width:o+16,height:o+16}],hitSlop:{top:10,bottom:10,left:10,right:10},children:(0,y.jsx)(w.default,{style:[z.heart,{fontSize:o,color:t?i.favorite:i.textMuted}],children:l})})};var R=k.default.create({card:{borderRadius:16,marginHorizontal:16,marginVertical:8,overflow:"hidden",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},imageWrap:{height:160,position:"relative"},image:{width:"100%",height:"100%"},placeholder:{width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},placeholderText:{fontSize:18,color:"#FFFFFF",fontWeight:"600"},topActions:{position:"absolute",top:12,left:12,right:12,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},categoryChip:{paddingHorizontal:12,paddingVertical:6,borderRadius:12,maxWidth:"60%"},categoryText:{fontSize:12,fontWeight:"600",color:"#FFFFFF",textAlign:"right"},deleteBtn:{width:32,height:32,borderRadius:16,backgroundColor:"rgba(0,0,0,0.4)",justifyContent:"center",alignItems:"center"},deleteText:{fontSize:22,color:"#FFFFFF",fontWeight:"bold",lineHeight:22},favoriteWrap:{position:"absolute",bottom:12,left:12},body:{padding:16},title:{fontSize:20,fontWeight:"bold",marginBottom:6,textAlign:"right"},preview:{fontSize:14,lineHeight:20,textAlign:"right"}});const W=function(e){var t,r=e.recipe,n=e.onPress,o=e.onDelete,i=e.onToggleFavorite,l=m().colors,a=r.imageUri&&r.imageUri.length>0;return(0,y.jsxs)(B.default,{style:[R.card,{backgroundColor:l.surface}],onPress:n,activeOpacity:.85,children:[(0,y.jsxs)(F.default,{style:R.imageWrap,children:[a?(0,y.jsx)(P.default,{source:{uri:r.imageUri},style:R.image,resizeMode:"cover"}):(0,y.jsx)(F.default,{style:[R.placeholder,{backgroundColor:l.primary}],children:(0,y.jsx)(w.default,{style:R.placeholderText,children:"\u05de\u05ea\u05db\u05d5\u05df"})}),(0,y.jsxs)(F.default,{style:R.topActions,children:[r.category?(0,y.jsx)(F.default,{style:[R.categoryChip,{backgroundColor:l.primary}],children:(0,y.jsx)(w.default,{style:R.categoryText,numberOfLines:1,children:r.category})}):null,(0,y.jsx)(B.default,{style:R.deleteBtn,onPress:function(e){e.stopPropagation(),o()},children:(0,y.jsx)(w.default,{style:R.deleteText,children:"\xd7"})})]}),(0,y.jsx)(F.default,{style:R.favoriteWrap,children:(0,y.jsx)(A,{isFavorite:r.isFavorite,onPress:function(e){null==e||null==e.stopPropagation||e.stopPropagation(),i()},size:24})})]}),(0,y.jsxs)(F.default,{style:R.body,children:[(0,y.jsx)(w.default,{style:[R.title,{color:l.text}],numberOfLines:1,children:r.title}),r.ingredients?(0,y.jsx)(w.default,{style:[R.preview,{color:l.textSecondary}],numberOfLines:2,children:(t=r.ingredients,t?t.split("\n").filter(function(e){return e.trim()}).slice(0,2).join("\n"):"")}):null]})]})};var E=r(5991),I=k.default.create({header:{paddingBottom:16,paddingHorizontal:20,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},row:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},backBtn:{minWidth:80,alignItems:"flex-end"},backText:{fontSize:16,fontWeight:"600"},title:{flex:1,fontSize:24,fontWeight:"bold",textAlign:"center"},right:{minWidth:80,alignItems:"flex-start"}});const D=function(e){var t=e.title,r=e.onBack,n=e.rightComponent,o=e.backgroundColor,i=e.textColor,a=void 0===i?"#FFFFFF":i,d=(0,l.useSafeAreaInsets)(),c=m().colors,s=null!=o?o:c.primary;return(0,y.jsx)(F.default,{style:[I.header,{backgroundColor:s,paddingTop:"ios"===E.default.OS?d.top:50}],children:(0,y.jsxs)(F.default,{style:I.row,children:[r?(0,y.jsx)(B.default,{style:I.backBtn,onPress:r,children:(0,y.jsx)(w.default,{style:[I.backText,{color:a}],children:"\u2190 \u05d7\u05d6\u05e8\u05d4"})}):(0,y.jsx)(F.default,{style:I.backBtn}),(0,y.jsx)(w.default,{style:[I.title,{color:a}],numberOfLines:1,children:t}),n?(0,y.jsx)(F.default,{style:I.right,children:n}):(0,y.jsx)(F.default,{style:I.right})]})})};var L=r(4307),H=k.default.create({scroll:{flexGrow:0},scrollContent:{paddingVertical:8,paddingHorizontal:4,gap:8,flexDirection:"row",alignItems:"center"},chip:{paddingHorizontal:16,paddingVertical:10,borderRadius:20,borderWidth:1,marginHorizontal:4},newChip:{backgroundColor:"transparent",borderStyle:"dashed"},chipText:{fontSize:14,fontWeight:"600"}});const U=function(e){var t=e.categories,r=e.selectedCategory,n=e.onSelectCategory,o=e.newCategoryLabel,i=void 0===o?"+ \u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4 \u05d7\u05d3\u05e9\u05d4":o,l=e.onAddNew,a=m().colors;return(0,y.jsxs)(L.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:H.scrollContent,style:H.scroll,children:[t.map(function(e){var t=r===e;return(0,y.jsx)(B.default,{style:[H.chip,{backgroundColor:t?a.primary:a.surface,borderColor:a.border}],onPress:function(){return n(e)},children:(0,y.jsx)(w.default,{style:[H.chipText,{color:t?"#FFFFFF":a.text}],numberOfLines:1,children:e})},e)}),l&&(0,y.jsx)(B.default,{style:[H.chip,H.newChip,{borderColor:a.primary}],onPress:l,children:(0,y.jsx)(w.default,{style:[H.chipText,{color:a.primary}],children:i})})]})};var M=r(4467);function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach(function(t){(0,M.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var N="@recipes",J=function(){var e=(0,u.default)(function*(){try{var e=yield f.default.getItem(N);return(null!=e?JSON.parse(e):[]).map(function(e){return _(_({},e),{},{isFavorite:!0===e.isFavorite,imageUri:e.imageUri||null})})}catch(t){return console.error("Error reading recipes:",t),[]}});return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,u.default)(function*(e){try{return yield f.default.setItem(N,JSON.stringify(e)),!0}catch(t){return console.error("Error saving recipes:",t),!1}});return function(t){return e.apply(this,arguments)}}(),q=function(){var e=(0,u.default)(function*(e){try{var t=yield J();return t.push(_(_({},e),{},{isFavorite:!0===e.isFavorite})),yield $(t)}catch(r){return console.error("Error adding recipe:",r),!1}});return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,u.default)(function*(e,t){try{var r=yield J(),n=r.findIndex(function(t){return t.id===e});return-1!==n&&(r[n]=_(_(_({},r[n]),t),{},{id:e}),yield $(r))}catch(o){return console.error("Error updating recipe:",o),!1}});return function(t,r){return e.apply(this,arguments)}}(),G=function(){var e=(0,u.default)(function*(e){try{var t=(yield J()).filter(function(t){return t.id!==e});return yield $(t)}catch(r){return console.error("Error deleting recipe:",r),!1}});return function(t){return e.apply(this,arguments)}}(),K=function(){var e=(0,u.default)(function*(e){try{var t=yield J(),r=t.findIndex(function(t){return t.id===e});return-1!==r&&(t[r].isFavorite=!t[r].isFavorite,yield $(t),t[r].isFavorite)}catch(n){return console.error("Error toggling favorite:",n),!1}});return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=(0,u.default)(function*(e){var t=(yield J()).find(function(t){return t.id===e})||null;return t&&(t.isFavorite=!0===t.isFavorite,t.imageUri=t.imageUri||null),t});return function(t){return e.apply(this,arguments)}}();function X(e,t){return Y.apply(this,arguments)}function Y(){return(Y=(0,u.default)(function*(e,t){var r=JSON.stringify(e,null,2),n=t.replace(/[^a-zA-Z0-9\u0590-\u05FF\s.-]/g,"").replace(/\s+/g,"-"),o=n.endsWith(".json")?n:`${n}.json`;try{var i=new Blob([r],{type:"application/json"}),l=URL.createObjectURL(i),a=document.createElement("a");return a.href=l,a.download=o,a.click(),URL.revokeObjectURL(l),!0}catch(d){return console.error("exportJson web:",d),!1}})).apply(this,arguments)}var ee=k.default.create({container:{flex:1},searchRow:{paddingHorizontal:16,paddingVertical:12},searchInput:{borderRadius:12,paddingHorizontal:16,paddingVertical:12,fontSize:16,textAlign:"right",borderWidth:1},toggleRow:{flexDirection:"row",paddingHorizontal:16,paddingBottom:8,gap:12,justifyContent:"flex-end"},toggleBtn:{paddingHorizontal:20,paddingVertical:10,borderRadius:20,borderWidth:1},toggleText:{fontSize:14,fontWeight:"600"},listContent:{paddingBottom:100},empty:{paddingTop:80,paddingHorizontal:24,alignItems:"center"},emptyText:{fontSize:18,fontWeight:"600",marginBottom:8,textAlign:"center"},emptySub:{fontSize:14,textAlign:"center"},fab:{position:"absolute",right:20,bottom:24,width:64,height:64,borderRadius:32,justifyContent:"center",alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:6,elevation:8},fabText:{fontSize:36,color:"#FFFFFF",fontWeight:"300",lineHeight:36},headerActions:{flexDirection:"row",alignItems:"center",gap:8},headerBtn:{padding:6},headerBtnText:{fontSize:14,fontWeight:"600"},themeBtn:{padding:8},themeBtnText:{fontSize:22}});const te=function(e){var t=e.navigation,r=m(),o=r.colors,i=r.toggleTheme,l=(0,n.useState)([]),d=(0,a.default)(l,2),c=d[0],s=d[1],f=(0,n.useState)(""),h=(0,a.default)(f,2),g=h[0],p=h[1],x=(0,n.useState)(null),b=(0,a.default)(x,2),v=b[0],k=b[1],P=(0,n.useState)(!1),z=(0,a.default)(P,2),A=z[0],R=z[1];(0,T.useFocusEffect)((0,n.useCallback)(function(){E()},[]));var E=function(){var e=(0,u.default)(function*(){var e=(yield J()).sort(function(e,t){return(t.createdAt||0)-(e.createdAt||0)});s(e)});return function(){return e.apply(this,arguments)}}(),I=(0,n.useMemo)(function(){var e=new Set;return c.forEach(function(t){return t.category&&e.add(t.category)}),Array.from(e).sort()},[c]),L=(0,n.useMemo)(function(){var e=c;if(A&&(e=e.filter(function(e){return e.isFavorite})),v&&(e=e.filter(function(e){return e.category===v})),g.trim()){var t=g.toLowerCase();e=e.filter(function(e){return e.title.toLowerCase().includes(t)})}return e},[c,g,v,A]),H=function(){var e=(0,u.default)(function*(e){yield K(e.id),E()});return function(t){return e.apply(this,arguments)}}(),M=function(){var e=(0,u.default)(function*(){var e=yield J();(yield X(e,"recipes-backup.json"))||O.default.alert("\u05e9\u05d2\u05d9\u05d0\u05d4","\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05d9\u05e6\u05d5\u05d0 \u05d4\u05de\u05ea\u05db\u05d5\u05e0\u05d9\u05dd")});return function(){return e.apply(this,arguments)}}();return(0,y.jsxs)(F.default,{style:[ee.container,{backgroundColor:o.background}],children:[(0,y.jsx)(D,{title:"\u05d4\u05de\u05ea\u05db\u05d5\u05e0\u05d9\u05dd \u05e9\u05dc\u05d9",rightComponent:(0,y.jsxs)(F.default,{style:ee.headerActions,children:[(0,y.jsx)(B.default,{onPress:M,style:ee.headerBtn,children:(0,y.jsx)(w.default,{style:[ee.headerBtnText,{color:o.primary}],children:"\u05d9\u05d9\u05e6\u05d0 \u05d4\u05db\u05dc"})}),(0,y.jsx)(B.default,{onPress:i,style:ee.themeBtn,children:(0,y.jsx)(w.default,{style:ee.themeBtnText,children:"#FDF6EC"===o.background?"\ud83c\udf19":"\u2600\ufe0f"})})]})}),(0,y.jsx)(F.default,{style:ee.searchRow,children:(0,y.jsx)(S.default,{style:[ee.searchInput,{backgroundColor:o.surface,color:o.text,borderColor:o.border}],placeholder:"\u05d7\u05e4\u05e9 \u05de\u05ea\u05db\u05d5\u05df...",placeholderTextColor:o.textMuted,value:g,onChangeText:p})}),(0,y.jsxs)(F.default,{style:ee.toggleRow,children:[(0,y.jsx)(B.default,{style:[ee.toggleBtn,{backgroundColor:A?o.surface:o.primary,borderColor:A?o.border:o.primary}],onPress:function(){return R(!1)},children:(0,y.jsx)(w.default,{style:[ee.toggleText,{color:A?o.text:"#FFFFFF"}],children:"\u05d4\u05db\u05dc"})}),(0,y.jsx)(B.default,{style:[ee.toggleBtn,{backgroundColor:A?o.primary:o.surface,borderColor:A?o.primary:o.border}],onPress:function(){return R(!0)},children:(0,y.jsx)(w.default,{style:[ee.toggleText,{color:A?"#FFFFFF":o.text}],children:"\u05de\u05d5\u05e2\u05d3\u05e4\u05d9\u05dd"})})]}),(0,y.jsx)(U,{categories:["\u05d4\u05db\u05dc"].concat((0,j.default)(I)),selectedCategory:null===v?"\u05d4\u05db\u05dc":v,onSelectCategory:function(e){return k("\u05d4\u05db\u05dc"===e?null:e)}}),(0,y.jsx)(C.default,{data:L,keyExtractor:function(e){return e.id},contentContainerStyle:ee.listContent,ListEmptyComponent:(0,y.jsxs)(F.default,{style:ee.empty,children:[(0,y.jsx)(w.default,{style:[ee.emptyText,{color:o.textSecondary}],children:g||v||A?"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05de\u05ea\u05db\u05d5\u05e0\u05d9\u05dd":"\u05d0\u05d9\u05df \u05de\u05ea\u05db\u05d5\u05e0\u05d9\u05dd \u05e2\u05d3\u05d9\u05d9\u05df"}),(0,y.jsx)(w.default,{style:[ee.emptySub,{color:o.textMuted}],children:g||v||A?"\u05e0\u05e1\u05d4 \u05dc\u05e9\u05e0\u05d5\u05ea \u05e1\u05d9\u05e0\u05d5\u05df \u05d0\u05d5 \u05d7\u05d9\u05e4\u05d5\u05e9":"\u05dc\u05d7\u05e5 \u05e2\u05dc + \u05db\u05d3\u05d9 \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05de\u05ea\u05db\u05d5\u05df"})]}),renderItem:function(e){var r=e.item;return(0,y.jsx)(W,{recipe:r,onPress:function(){return t.navigate("RecipeDetails",{recipeId:r.id})},onDelete:function(){return e=r,void O.default.alert("\u05de\u05d7\u05d9\u05e7\u05ea \u05de\u05ea\u05db\u05d5\u05df",`\u05d4\u05d0\u05dd \u05d0\u05ea\u05d4 \u05d1\u05d8\u05d5\u05d7 \u05e9\u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05de\u05d7\u05d5\u05e7 \u05d0\u05ea "${e.title}"?`,[{text:"\u05d1\u05d9\u05d8\u05d5\u05dc",style:"cancel"},{text:"\u05de\u05d7\u05e7",style:"destructive",onPress:function(){var t=(0,u.default)(function*(){yield G(e.id),E()});return function(){return t.apply(this,arguments)}}()}]);var e},onToggleFavorite:function(){return H(r)}})}}),(0,y.jsx)(B.default,{style:[ee.fab,{backgroundColor:o.primary}],onPress:function(){return t.navigate("AddEditRecipe",{})},children:(0,y.jsx)(w.default,{style:ee.fabText,children:"+"})})]})};var re=r(4767),ne=r(8683);function oe(){return(oe=(0,u.default)(function*(){return new Promise(function(e){var t=document.createElement("input");t.type="file",t.accept="image/*",t.onchange=function(t){var r,n,o=null==(r=t.target)||null==(n=r.files)?void 0:n[0];if(o){var i=new FileReader;i.onload=function(){return e(i.result)},i.onerror=function(){return e(null)},i.readAsDataURL(o)}else e(null)},t.click()})})).apply(this,arguments)}var ie=k.default.create({container:{marginBottom:20},label:{fontSize:16,fontWeight:"600",marginBottom:8,textAlign:"right"},input:{borderRadius:12,paddingHorizontal:16,paddingVertical:12,fontSize:16,borderWidth:1},multiline:{minHeight:120,paddingTop:12}});const le=function(e){var t=e.label,r=e.value,n=e.onChangeText,o=e.placeholder,i=e.multiline,l=void 0!==i&&i,a=e.numberOfLines,d=void 0===a?4:a,c=e.required,s=m().colors;return(0,y.jsxs)(F.default,{style:ie.container,children:[t?(0,y.jsxs)(w.default,{style:[ie.label,{color:s.text}],children:[t,c?" *":""]}):null,(0,y.jsx)(S.default,{style:[ie.input,l&&ie.multiline,{backgroundColor:s.surface,color:s.text,borderColor:s.border}],value:r,onChangeText:n,placeholder:o,placeholderTextColor:s.textMuted,textAlign:"right",multiline:l,numberOfLines:l?d:1,textAlignVertical:l?"top":"center"})]})};var ae=k.default.create({container:{flex:1},scroll:{flex:1},scrollContent:{paddingBottom:40},form:{padding:20},label:{fontSize:16,fontWeight:"600",marginBottom:8,textAlign:"right"},imageBox:{height:180,borderRadius:16,borderWidth:1,borderStyle:"dashed",marginBottom:20,overflow:"hidden",justifyContent:"center",alignItems:"center"},previewImage:{width:"100%",height:"100%"},imagePlaceholder:{fontSize:16},saveBtn:{borderRadius:12,paddingVertical:16,marginTop:8,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:4,elevation:4},saveBtnText:{fontSize:18,fontWeight:"bold",color:"#FFFFFF",textAlign:"center"},cancelBtn:{borderRadius:12,paddingVertical:14,marginTop:12,borderWidth:1},cancelBtnText:{fontSize:16,fontWeight:"600",textAlign:"center"}});const de=function(e){var t=e.route,r=e.navigation,o=(t.params||{}).recipeId,i=!!o,l=m().colors,d=(0,n.useState)(""),c=(0,a.default)(d,2),s=c[0],f=c[1],h=(0,n.useState)(""),g=(0,a.default)(h,2),p=g[0],x=g[1],b=(0,n.useState)(""),v=(0,a.default)(b,2),j=v[0],C=v[1],S=(0,n.useState)(""),k=(0,a.default)(S,2),T=k[0],z=k[1],A=(0,n.useState)(""),R=(0,a.default)(A,2),W=R[0],I=R[1],H=(0,n.useState)(""),M=(0,a.default)(H,2),V=M[0],_=M[1],N=(0,n.useState)(!1),$=(0,a.default)(N,2),G=$[0],K=$[1],X=(0,n.useState)(""),Y=(0,a.default)(X,2),ee=Y[0],te=Y[1],ie=(0,n.useState)([]),de=(0,a.default)(ie,2),ce=de[0],se=de[1];(0,n.useEffect)(function(){J().then(function(e){var t=new Set;e.forEach(function(e){return e.category&&t.add(e.category)}),se(Array.from(t).sort())})},[]),(0,n.useEffect)(function(){i&&o&&Q(o).then(function(e){e&&(f(e.title||""),x(e.category||""),C(e.imageUri||""),z(e.ingredients||""),I(e.instructions||""),_(e.notes||""))})},[i,o]);var ue=function(){var e=(0,u.default)(function*(){var e=yield function(){return oe.apply(this,arguments)}();e&&C(e)});return function(){return e.apply(this,arguments)}}(),fe=function(){var e=(0,u.default)(function*(){if(s.trim()){var e=(G?ee:p).trim();if(i){(yield Z(o,{title:s.trim(),category:e,imageUri:j||null,ingredients:T.trim(),instructions:W.trim(),notes:V.trim()}))?O.default.alert("\u05d4\u05e6\u05dc\u05d7\u05d4","\u05d4\u05de\u05ea\u05db\u05d5\u05df \u05e2\u05d5\u05d3\u05db\u05df",[{text:"\u05d0\u05d9\u05e9\u05d5\u05e8",onPress:function(){return r.goBack()}}]):O.default.alert("\u05e9\u05d2\u05d9\u05d0\u05d4","\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e2\u05d3\u05db\u05d5\u05df \u05d4\u05de\u05ea\u05db\u05d5\u05df")}else{var t={id:(0,ne.default)(),title:s.trim(),category:e,imageUri:j||null,ingredients:T.trim(),instructions:W.trim(),notes:V.trim(),isFavorite:!1,createdAt:Date.now()};(yield q(t))?O.default.alert("\u05d4\u05e6\u05dc\u05d7\u05d4","\u05d4\u05de\u05ea\u05db\u05d5\u05df \u05e0\u05e9\u05de\u05e8",[{text:"\u05d0\u05d9\u05e9\u05d5\u05e8",onPress:function(){return r.goBack()}}]):O.default.alert("\u05e9\u05d2\u05d9\u05d0\u05d4","\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05de\u05d9\u05e8\u05ea \u05d4\u05de\u05ea\u05db\u05d5\u05df")}}else O.default.alert("\u05e9\u05d2\u05d9\u05d0\u05d4","\u05e9\u05dd \u05d4\u05de\u05ea\u05db\u05d5\u05df \u05d4\u05d5\u05d0 \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4")});return function(){return e.apply(this,arguments)}}(),he=p||null;return(0,y.jsxs)(re.default,{style:[ae.container,{backgroundColor:l.background}],behavior:"ios"===E.default.OS?"padding":"height",children:[(0,y.jsx)(D,{title:i?"\u05e2\u05e8\u05d9\u05db\u05ea \u05de\u05ea\u05db\u05d5\u05df":"\u05d4\u05d5\u05e1\u05e3 \u05de\u05ea\u05db\u05d5\u05df \u05d7\u05d3\u05e9",onBack:function(){return r.goBack()}}),(0,y.jsx)(L.default,{style:ae.scroll,contentContainerStyle:ae.scrollContent,keyboardShouldPersistTaps:"handled",children:(0,y.jsxs)(F.default,{style:ae.form,children:[(0,y.jsx)(le,{label:"\u05e9\u05dd \u05de\u05ea\u05db\u05d5\u05df",value:s,onChangeText:f,placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05de\u05ea\u05db\u05d5\u05df",required:!0}),(0,y.jsx)(w.default,{style:[ae.label,{color:l.text}],children:"\u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4"}),(0,y.jsx)(U,{categories:ce,selectedCategory:he,onSelectCategory:function(e){x(e),K(!1)},newCategoryLabel:"+ \u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4 \u05d7\u05d3\u05e9\u05d4",onAddNew:function(){K(!0),x("")}}),G&&(0,y.jsx)(le,{value:ee,onChangeText:te,placeholder:"\u05e9\u05dd \u05e7\u05d8\u05d2\u05d5\u05e8\u05d9\u05d4 \u05d7\u05d3\u05e9\u05d4"}),(0,y.jsx)(w.default,{style:[ae.label,{color:l.text}],children:"\u05ea\u05de\u05d5\u05e0\u05d4"}),(0,y.jsx)(B.default,{style:[ae.imageBox,{backgroundColor:l.surface,borderColor:l.border}],onPress:ue,children:j?(0,y.jsx)(P.default,{source:{uri:j},style:ae.previewImage,resizeMode:"cover"}):(0,y.jsx)(w.default,{style:[ae.imagePlaceholder,{color:l.textMuted}],children:"\u05dc\u05d7\u05e5 \u05dc\u05d1\u05d7\u05d9\u05e8\u05ea \u05ea\u05de\u05d5\u05e0\u05d4"})}),(0,y.jsx)(le,{label:"\u05de\u05e6\u05e8\u05db\u05d9\u05dd",value:T,onChangeText:z,placeholder:"\u05db\u05dc \u05de\u05e6\u05e8\u05da \u05d1\u05e9\u05d5\u05e8\u05d4 \u05e0\u05e4\u05e8\u05d3\u05ea",multiline:!0,numberOfLines:6}),(0,y.jsx)(le,{label:"\u05d0\u05d5\u05e4\u05df \u05d4\u05db\u05e0\u05d4",value:W,onChangeText:I,placeholder:"\u05d4\u05d5\u05e8\u05d0\u05d5\u05ea \u05d4\u05db\u05e0\u05d4",multiline:!0,numberOfLines:8}),(0,y.jsx)(le,{label:"\u05d4\u05e2\u05e8\u05d5\u05ea",value:V,onChangeText:_,placeholder:"\u05d4\u05e2\u05e8\u05d5\u05ea (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05dc\u05d9)",multiline:!0,numberOfLines:4}),(0,y.jsx)(B.default,{style:[ae.saveBtn,{backgroundColor:l.primary}],onPress:fe,children:(0,y.jsx)(w.default,{style:ae.saveBtnText,children:"\u05e9\u05de\u05d5\u05e8"})}),(0,y.jsx)(B.default,{style:[ae.cancelBtn,{borderColor:l.border}],onPress:function(){return r.goBack()},children:(0,y.jsx)(w.default,{style:[ae.cancelBtnText,{color:l.text}],children:"\u05d1\u05d9\u05d8\u05d5\u05dc"})})]})})]})};var ce=r(530);function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach(function(t){(0,M.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var fe=k.default.create({container:{flex:1},loadingWrap:{flex:1,justifyContent:"center",alignItems:"center"},scroll:{flex:1},scrollContent:{paddingBottom:120},hero:{height:220,width:"100%"},heroImage:{width:"100%",height:"100%"},heroPlaceholder:{width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},heroPlaceholderText:{fontSize:24,color:"#FFFFFF",fontWeight:"600"},content:{padding:20},titleRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:12},title:{fontSize:28,fontWeight:"bold",textAlign:"right",flex:1,marginLeft:12},categoryChip:{alignSelf:"flex-end",paddingHorizontal:16,paddingVertical:8,borderRadius:12,marginBottom:24},categoryText:{fontSize:14,fontWeight:"600",color:"#FFFFFF",textAlign:"right"},section:{marginBottom:24},sectionLabel:{fontSize:18,fontWeight:"bold",textAlign:"right",marginBottom:10},textBox:{borderRadius:16,padding:16,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.05,shadowRadius:2,elevation:2},sectionText:{fontSize:16,textAlign:"right",lineHeight:24},errorWrap:{flex:1,justifyContent:"center",alignItems:"center",padding:20},errorText:{fontSize:18,textAlign:"center"},footer:{position:"absolute",bottom:0,left:0,right:0,flexDirection:"row",paddingHorizontal:20,paddingVertical:16,paddingBottom:34,borderTopWidth:1,gap:12},footerBtn:{flex:1,borderRadius:12,paddingVertical:14,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:4,elevation:4},footerBtnSecondary:{backgroundColor:"transparent",borderWidth:2},footerBtnText:{fontSize:16,fontWeight:"bold",color:"#FFFFFF",textAlign:"center"},footerBtnTextSecondary:{fontSize:16,fontWeight:"bold",textAlign:"center"}});const he=function(e){var t=e.route,r=e.navigation,o=t.params.recipeId,i=m().colors,l=(0,n.useState)(null),d=(0,a.default)(l,2),c=d[0],s=d[1],f=(0,n.useState)(!0),h=(0,a.default)(f,2),g=h[0],p=h[1];(0,n.useEffect)(function(){x()},[o]);var x=function(){var e=(0,u.default)(function*(){p(!0);var e=yield Q(o);s(e),p(!1)});return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,u.default)(function*(){yield K(o),s(function(e){return e?ue(ue({},e),{},{isFavorite:!e.isFavorite}):null})});return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,u.default)(function*(){if(c){var e=`${c.title.replace(/[^a-zA-Z0-9\u0590-\u05FF\s]/g,"").replace(/\s+/g,"-").substring(0,50)||"recipe"}.json`;(yield X(c,e))||O.default.alert("\u05e9\u05d2\u05d9\u05d0\u05d4","\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d9\u05d9\u05e6\u05d5\u05d0 \u05d4\u05de\u05ea\u05db\u05d5\u05df")}});return function(){return e.apply(this,arguments)}}();if(g)return(0,y.jsx)(F.default,{style:[fe.loadingWrap,{backgroundColor:i.background}],children:(0,y.jsx)(ce.default,{size:"large",color:i.primary})});if(!c)return(0,y.jsxs)(F.default,{style:[fe.container,{backgroundColor:i.background}],children:[(0,y.jsx)(D,{title:"\u05e4\u05e8\u05d8\u05d9 \u05d4\u05de\u05ea\u05db\u05d5\u05df",onBack:function(){return r.goBack()}}),(0,y.jsx)(F.default,{style:fe.errorWrap,children:(0,y.jsx)(w.default,{style:[fe.errorText,{color:i.textSecondary}],children:"\u05d4\u05de\u05ea\u05db\u05d5\u05df \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0"})})]});var j=c.imageUri&&c.imageUri.length>0;return(0,y.jsxs)(F.default,{style:[fe.container,{backgroundColor:i.background}],children:[(0,y.jsx)(D,{title:"\u05e4\u05e8\u05d8\u05d9 \u05d4\u05de\u05ea\u05db\u05d5\u05df",onBack:function(){return r.goBack()}}),(0,y.jsxs)(L.default,{style:fe.scroll,contentContainerStyle:fe.scrollContent,showsVerticalScrollIndicator:!1,children:[(0,y.jsx)(F.default,{style:fe.hero,children:j?(0,y.jsx)(P.default,{source:{uri:c.imageUri},style:fe.heroImage,resizeMode:"cover"}):(0,y.jsx)(F.default,{style:[fe.heroPlaceholder,{backgroundColor:i.primary}],children:(0,y.jsx)(w.default,{style:fe.heroPlaceholderText,children:"\u05de\u05ea\u05db\u05d5\u05df"})})}),(0,y.jsxs)(F.default,{style:fe.content,children:[(0,y.jsxs)(F.default,{style:fe.titleRow,children:[(0,y.jsx)(w.default,{style:[fe.title,{color:i.text}],children:c.title}),(0,y.jsx)(A,{isFavorite:c.isFavorite,onPress:b,size:32})]}),c.category?(0,y.jsx)(F.default,{style:[fe.categoryChip,{backgroundColor:i.primary}],children:(0,y.jsx)(w.default,{style:fe.categoryText,children:c.category})}):null,c.ingredients?(0,y.jsxs)(F.default,{style:fe.section,children:[(0,y.jsx)(w.default,{style:[fe.sectionLabel,{color:i.primary}],children:"\u05de\u05e6\u05e8\u05db\u05d9\u05dd"}),(0,y.jsx)(F.default,{style:[fe.textBox,{backgroundColor:i.surface}],children:(0,y.jsx)(w.default,{style:[fe.sectionText,{color:i.text}],children:c.ingredients})})]}):null,c.instructions?(0,y.jsxs)(F.default,{style:fe.section,children:[(0,y.jsx)(w.default,{style:[fe.sectionLabel,{color:i.primary}],children:"\u05d0\u05d5\u05e4\u05df \u05d4\u05db\u05e0\u05d4"}),(0,y.jsx)(F.default,{style:[fe.textBox,{backgroundColor:i.surface}],children:(0,y.jsx)(w.default,{style:[fe.sectionText,{color:i.text}],children:c.instructions})})]}):null,c.notes?(0,y.jsxs)(F.default,{style:fe.section,children:[(0,y.jsx)(w.default,{style:[fe.sectionLabel,{color:i.primary}],children:"\u05d4\u05e2\u05e8\u05d5\u05ea"}),(0,y.jsx)(F.default,{style:[fe.textBox,{backgroundColor:i.surface}],children:(0,y.jsx)(w.default,{style:[fe.sectionText,{color:i.text}],children:c.notes})})]}):null]})]}),(0,y.jsxs)(F.default,{style:[fe.footer,{backgroundColor:i.background,borderTopColor:i.border}],children:[(0,y.jsx)(B.default,{style:[fe.footerBtn,{backgroundColor:i.primary}],onPress:function(){return r.navigate("AddEditRecipe",{recipeId:c.id})},children:(0,y.jsx)(w.default,{style:fe.footerBtnText,children:"\u05e2\u05e8\u05d5\u05da"})}),(0,y.jsx)(B.default,{style:[fe.footerBtn,fe.footerBtnSecondary,{borderColor:i.primary}],onPress:v,children:(0,y.jsx)(w.default,{style:[fe.footerBtnTextSecondary,{color:i.primary}],children:"\u05d9\u05d9\u05e6\u05d0 \u05de\u05ea\u05db\u05d5\u05df"})})]})]})};var ge=(0,v.default)();function pe(){return(0,y.jsxs)(ge.Navigator,{initialRouteName:"Home",screenOptions:{headerShown:!1,animation:"slide_from_left",contentStyle:{backgroundColor:"transparent"}},children:[(0,y.jsx)(ge.Screen,{name:"Home",component:te}),(0,y.jsx)(ge.Screen,{name:"AddEditRecipe",component:de,options:{animation:"slide_from_left"}}),(0,y.jsx)(ge.Screen,{name:"RecipeDetails",component:he,options:{animation:"slide_from_left"}})]})}function ye(){return(0,n.useEffect)(function(){o.default.isRTL||o.default.forceRTL(!0)},[]),(0,y.jsx)(l.SafeAreaProvider,{children:(0,y.jsx)(b,{children:(0,y.jsx)(i.default,{children:(0,y.jsx)(pe,{})})})})}o.default.allowRTL(!0),o.default.forceRTL(!0)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.m=e,(()=>{var e=[];r.O=(t,n,o,i)=>{if(!n){var l=1/0;for(s=0;s<e.length;s++){for(var[n,o,i]=e[s],a=!0,d=0;d<n.length;d++)(!1&i||l>=i)&&Object.keys(r.O).every(e=>r.O[e](n[d]))?n.splice(d--,1):(a=!1,i<l&&(l=i));if(a){e.splice(s--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[n,o,i]}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={792:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[l,a,d]=n,c=0;if(l.some(t=>0!==e[t])){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(d)var s=d(r)}for(t&&t(n);c<l.length;c++)i=l[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(s)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r.O(void 0,[920],()=>r(5036));n=r.O(n)})();
//# sourceMappingURL=main.04ff14b6.js.map